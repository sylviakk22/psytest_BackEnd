{"version":3,"sources":["webpack:///src/components/data-analyze/scl90history.vue","webpack:///./src/components/data-analyze/scl90history.vue?138f","webpack:///./src/components/data-analyze/scl90history.vue"],"names":["scl90history","name","data","this","radarChartSettings","metrics","pieChartSettings","level","heatMapChartSettings","position","type","geo","label","emphasis","show","itemStyle","normal","areaColor","borderColor","sex_relevance","marriage_relevance","age_relevance","salary_relevance","username","userId","ExamineDialogVisible","userscl90history","userInfo","listLoading","ringChartData","columns","rows","histogramData","年龄","F1","F2","F3","F4","F5","F6","F7","F8","F9","radarchartData","pieChartData","heatMapChartData","lat","lng","人数","methods","getData","_this","promise_default","a","resolve","reject","Object","api","then","res","somatization_avg","obsessive_avg","interpersonal_avg","depression_avg","anxiety_avg","hostility_avg","phobic_avg","paranoid_avg","psychoticism_avg","male","female","marriaged","unmamarriaged","salary_num_1","salary_num_2","salary_num_3","salary_num_4","salary_num_5","salary_num_6","salary_num_7","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","value","parseInt","somatization","obsessive","interpersonal","depression","anxiety","hostility","phobic","paranoid","psychoticism","sumscore","user","sex","marriage","salary","err","return","obj","类别","length","toFixed","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","i","push","pieArray","人群","负面情绪倾向人数","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_i","ringArray","收入情况","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_i2","tableRowName","_ref","row","str","rowIndex","calculateAverage","param","sums","forEach","column","index","values","map","item","Number","property","every","isNaN","reduce","prev","curr","handleExamine","_this2","id","arr","userid","dateformatter","formatUtils","formatSex","colmun","formatSalary","formatMarriage","formatWork","mounted","data_analyze_scl90history","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","separator","_v","gutter","span","staticStyle","overflow","directives","rawName","expression","height","width","summary-method","show-summary","highlight-current-row","border","row-class-name","prop","sortable","formatter","fixed","scopedSlots","_u","key","fn","scope","size","on","click","$event","$index","settings","_s","title","visible","update:visible","margin","margin-bottom","text-align","max-height","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/9.3d97bd33bbba36a03092.js","sourcesContent":["<template>\n  <section class=\"scl90history\">\n    <div class=\"crumbs\">\n      <el-breadcrumb separator=\"/\">\n        <el-breadcrumb-item><i class=\"el-icon-time\"></i> 历史记录</el-breadcrumb-item>\n        <el-breadcrumb-item>SCL90历史记录</el-breadcrumb-item>\n      </el-breadcrumb>\n    </div>\n    <section class=\"sextion-1\">\n      <el-row :gutter=\"10\">\n        <el-col :span=\"11\">\n          <el-card class=\"box-card\" style=\"overflow:auto\">\n            <el-table :data=\"scl90history\" v-loading=\"listLoading\" height=\"460\" width=\"95%\"\n                      :summary-method=\"calculateAverage\"\n                      show-summary highlight-current-row\n                      border :row-class-name=\"tableRowName\">\n              <el-table-column prop=\"id\" label=\"序号\" width=\"80\" sortable></el-table-column>\n              <el-table-column prop=\"user.id\" label=\"测试者ID\" width=\"80\" sortable></el-table-column>\n              <el-table-column prop=\"time\" label=\"测试时间\" width=\"160\" :formatter=\"dateformatter\"\n                               sortable></el-table-column>\n              <el-table-column prop=\"sumscore\" label=\"总评分\" width=\"90\" sortable></el-table-column>\n              <el-table-column prop=\"posSymptomCount\" label=\"阳性回答数\" width=\"90\" sortable></el-table-column>\n              <el-table-column prop=\"posSymptomAvgscore\" label=\"阳性回答均分\" width=\"90\" sortable></el-table-column>\n              <el-table-column prop=\"somatization\" label=\"躯体化F1\" width=\"90\" sortable></el-table-column>\n              <el-table-column prop=\"obsessive\" label=\"强迫症状F2\" width=\"90\" sortable></el-table-column>\n              <el-table-column prop=\"interpersonal\" label=\"人际关系敏感F3\" width=\"90\" sortable></el-table-column>\n              <el-table-column prop=\"depression\" label=\"抑郁F4\" width=\"90\" sortable></el-table-column>\n              <el-table-column prop=\"anxiety\" label=\"焦虑F5\" width=\"90\" sortable></el-table-column>\n              <el-table-column prop=\"hostility\" label=\"敌对F6\" width=\"90\" sortable></el-table-column>\n              <el-table-column prop=\"phobic\" label=\"恐怖F7\" width=\"90\" sortable></el-table-column>\n              <el-table-column prop=\"paranoid\" label=\"偏执F8\" width=\"90\" sortable></el-table-column>\n              <el-table-column prop=\"psychoticism\" label=\"精神病性F9\" width=\"90\" sortable></el-table-column>\n\n              <el-table-column label=\"操作\" width=\"70\" fixed=\"right\">\n                <template slot-scope=\"scope\">\n                  <el-button size=\"small\" type=\"text\" @click=\"handleExamine(scope.$index, scope.row)\">历史记录</el-button>\n                </template>\n              </el-table-column>\n            </el-table>\n          </el-card>\n        </el-col>\n\n        <el-col :span=\"11\">\n          <el-card class=\"box-card\">\n            <ve-radar :data=\"radarchartData\" :settings=\"radarChartSettings\" height=\"400px\"></ve-radar>\n            <span>9种症状评分雷达图</span>\n          </el-card>\n        </el-col>\n      </el-row>\n    </section>\n\n    <section class=\"section-2\">\n      <el-row :gutter=\"10\">\n        <el-col :span=\"11\">\n          <el-card class=\"box-card\">\n            <ve-pie :data=\"pieChartData\" :settings=\"pieChartSettings\"></ve-pie>\n            <span>有明显负面情绪倾向人群的性别、婚姻情况分布</span>\n            <p>性别关联度:{{ sex_relevance }}</p> <!-- 0.719(60%-75%概率相关) -->\n            <p>是否已婚关联度:{{ marriage_relevance }}</p><!-- 0.721(60%-75%概率相关) -->\n          </el-card>\n        </el-col>\n\n        <el-col :span=\"11\">\n          <el-card class=\"box-card\">\n            <ve-histogram :data=\"histogramData\"></ve-histogram>\n            <span>有负面情绪倾向人群的年龄统计</span>\n            <p>年龄关联度:{{ age_relevance }}</p>\n          </el-card>\n        </el-col>\n\n      </el-row>\n    </section>\n\n    <section class=\"section-3\">\n      <el-row :gutter=\"10\">\n        <el-col :span=\"11\">\n          <el-card class=\"box-card\">\n            <ve-ring :data=\"ringChartData\"></ve-ring>\n            <span>有明显负面情绪倾向人群的收入分布</span>\n            <p>收入关联度:{{ salary_relevance }}</p>\n          </el-card>\n        </el-col>\n\n        <el-col :span=\"11\">\n          <el-card class=\"box-card\">\n            <ve-heatmap :data=\"heatMapChartData\" :settings=\"heatMapChartSettings\"></ve-heatmap>\n            <span>有明显负面情绪倾向人群的地区分布</span>\n          </el-card>\n        </el-col>\n      </el-row>\n    </section>\n\n\n    <!--    查看个人历史记录 对话弹框-->\n    <el-dialog title=\"历史记录\" :visible.sync=\"ExamineDialogVisible\" width=\"50%\">\n\n      <p style=\"margin: 20px 0\">用户名: {{username}} (ID:{{userId}}) 的历史记录</p>\n      <div class=\"userInfoTable\" style=\"margin-bottom: 20px\">\n        <el-table :data=\"userInfo\" border width=\"100%\">\n          <el-table-column prop=\"age\" label=\"年龄\" width=\"80\"></el-table-column>\n          <el-table-column prop=\"sex\" label=\"性别\" :formatter=\"formatSex\" width=\"80\"></el-table-column>\n          <el-table-column prop=\"location\" label=\"地区\"></el-table-column>\n          <el-table-column prop=\"salary\" label=\"薪资\" :formatter=\"formatSalary\" width=\"120\"></el-table-column>\n          <el-table-column prop=\"work\" label=\"从事行业\" :formatter=\"formatWork\"></el-table-column>\n          <el-table-column prop=\"marriage\" label=\"是否已婚\" :formatter=\"formatMarriage\" width=\"80\"></el-table-column>\n        </el-table>\n      </div>\n      <div style=\"text-align: center\">\n        <el-table :data=\"userscl90history\" max-height=\"300\" border width=\"100%\" v-loading=\"listLoading\"\n                  :row-class-name=\"tableRowName\">\n          <el-table-column prop=\"id\" label=\"序号\" width=\"80\" sortable></el-table-column>\n          <el-table-column prop=\"userid\" label=\"测试者ID\" width=\"80\"></el-table-column>\n          <el-table-column prop=\"time\" label=\"测试时间\" :formatter=\"dateformatter\" sortable></el-table-column>\n          <el-table-column prop=\"sumscore\" label=\"总评分\" width=\"90\" sortable></el-table-column>\n          <el-table-column prop=\"posSymptomCount\" label=\"阳性回答数\" width=\"90\" sortable></el-table-column>\n          <el-table-column prop=\"posSymptomAvgscore\" label=\"阳性回答均分\" width=\"90\" sortable></el-table-column>\n          <el-table-column prop=\"somatization\" label=\"躯体化\" width=\"90\" sortable></el-table-column>\n          <el-table-column prop=\"obsessive\" label=\"强迫症状\" width=\"90\" sortable></el-table-column>\n          <el-table-column prop=\"interpersonal\" label=\"人际关系敏感\" width=\"90\" sortable></el-table-column>\n          <el-table-column prop=\"depression\" label=\"抑郁\" width=\"90\" sortable></el-table-column>\n          <el-table-column prop=\"anxiety\" label=\"焦虑\" width=\"90\" sortable></el-table-column>\n          <el-table-column prop=\"hostility\" label=\"敌对\" width=\"90\" sortable></el-table-column>\n          <el-table-column prop=\"phobic\" label=\"恐怖\" width=\"90\" sortable></el-table-column>\n          <el-table-column prop=\"paranoid\" label=\"偏执\" width=\"90\" sortable></el-table-column>\n          <el-table-column prop=\"psychoticism\" label=\"精神病性\" width=\"90\" sortable></el-table-column>\n        </el-table>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button type=\"primary\" @click=\"ExamineDialogVisible = false\">关闭</el-button>\n      </span>\n    </el-dialog>\n\n  </section>\n</template>\n\n<script>\n  import {getScl90historyListWithUserData, getUserScl90history} from \"../../api/api\";\n  import {\n    formatWorkUtil,\n    formatSexUtil,\n    formatMarriageUtil,\n    formatSalaryUtil,\n    dateFormatterUtil\n  } from \"../../common/js/formatUtils\";\n  import {calculate} from \"../../api/calculation\";\n\n\n  export default {\n    name: \"scl90history\",\n    data() {\n      // 雷达图\n      this.radarChartSettings = {\n        metrics: ['F1', 'F2', 'F3', 'F4', 'F5', 'F6', 'F7', 'F8', 'F9',],\n      };\n      // 双环饼图\n      this.pieChartSettings = {\n        level: [\n          ['男', '女',],\n          ['已婚', '未婚']\n        ]\n      };\n      // 热力图\n      this.heatMapChartSettings = {\n        position: 'china',\n        type: 'map',\n        geo: {\n          label: {\n            emphasis: {\n              show: false\n            }\n          },\n          itemStyle: {\n            normal: {\n              areaColor: '#323c48',\n              borderColor: '#111'\n            },\n            emphasis: {\n              areaColor: '#2a333d'\n            }\n          }\n        }\n      };\n\n      return {\n        // relevance\n        sex_relevance: '',\n        marriage_relevance:'',\n        age_relevance:'',\n        salary_relevance:'',\n\n\n        // dialog\n        username: '',\n        userId: '',\n        ExamineDialogVisible: false,\n        userscl90history: [],\n        userInfo: [],\n        // table\n        listLoading: true,\n        scl90history: [],\n        // graph\n        ringChartData: {\n          columns: ['收入情况', '人数'],\n          rows: [\n            // {'收入情况': '1000元以下', '人数': 1393},\n            // {'收入情况': '1000-1999元', '人数': 3530},\n            // {'收入情况': '2000-3999元', '人数': 2923},\n            // {'收入情况': '4000-5999元', '人数': 1723},\n            // {'收入情况': '6000-9999元', '人数': 3792},\n            // {'收入情况': '10000-19999元', '人数': 4593}\n          ]\n        },\n        histogramData: {\n          columns: ['年龄', 'F1', 'F2', 'F3', 'F4', 'F5', 'F6', 'F7', 'F8', 'F9',],\n          rows: [\n            {\n              '年龄': '20-30',\n              'F1': 662,\n              'F2': 574,\n              'F3': 795,\n              'F4': 677,\n              'F5': 821,\n              'F6': 736,\n              'F7': 310,\n              'F8': 659,\n              'F9': 845,\n            },\n            {\n              '年龄': '30-40',\n              'F1': 459,\n              'F2': 514,\n              'F3': 411,\n              'F4': 501,\n              'F5': 936,\n              'F6': 527,\n              'F7': 749,\n              'F8': 260,\n              'F9': 858,\n            },\n            {\n              '年龄': '40-50',\n              'F1': 180,\n              'F2': 944,\n              'F3': 325,\n              'F4': 934,\n              'F5': 177,\n              'F6': 502,\n              'F7': 844,\n              'F8': 477,\n              'F9': 944,\n            },\n            {\n              '年龄': '50-70',\n              'F1': 135,\n              'F2': 807,\n              'F3': 707,\n              'F4': 264,\n              'F5': 600,\n              'F6': 183,\n              'F7': 605,\n              'F8': 308,\n              'F9': 646,\n            },\n            {\n              '年龄': '70+',\n              'F1': 39,\n              'F2': 11,\n              'F3': 20,\n              'F4': 15,\n              'F5': 19,\n              'F6': 7,\n              'F7': 8,\n              'F8': 2,\n              'F9': 13,\n            },\n          ]\n        },\n        radarchartData: {\n          columns: ['类别', 'F1', 'F2', 'F3', 'F4', 'F5', 'F6', 'F7', 'F8', 'F9'],\n          rows: [\n            // {'类别': '测试用户平均值','F1':1.24,'F2':2.23,'F3':1.71,'F4':2.02,'F5':0.25,'F6':0.31,'F7':4.26,'F8':2.78,'F9':0.87,},\n            // {\n            //   '类别': '常模',\n            //   'F1': 1.37,\n            //   'F2': 1.62,\n            //   'F3': 1.65,\n            //   'F4': 1.50,\n            //   'F5': 1.39,\n            //   'F6': 1.48,\n            //   'F7': 1.23,\n            //   'F8': 1.43,\n            //   'F9': 1.29\n            // },\n            // {'类别': '正常值', 'F1': 1, 'F2': 1, 'F3': 1, 'F4': 1, 'F5': 1, 'F6': 1, 'F7': 1, 'F8': 1, 'F9': 1,},\n          ]\n        },\n        pieChartData: {\n          columns: ['人群', '负面情绪倾向人数'],\n          rows: [\n            // {'人群': '男', '负面情绪倾向人数': 393},\n            // {'人群': '女', '负面情绪倾向人数': 530},\n            // {'人群': '已婚', '负面情绪倾向人数': 240},\n            // {'人群': '未婚', '负面情绪倾向人数': 350},\n          ]\n        },\n        heatMapChartData: {\n          columns: ['lat', 'lng', '人数'],\n          rows: [\n            {'lat': 115.892151, 'lng': 40.676493, '人数': 800},\n            {'lat': 115.892151, 'lng': 28.676493, '人数': 1000},\n            {'lat': 117.000923, 'lng': 36.675807, '人数': 400},\n            {'lat': 113.665412, 'lng': 34.757975, '人数': 800},\n            {'lat': 114.298572, 'lng': 30.584355, '人数': 200},\n            {'lat': 112.982279, 'lng': 28.19409, '人数': 100},\n            {'lat': 113.280637, 'lng': 23.125178, '人数': 300},\n            {'lat': 110.33119, 'lng': 20.031971, '人数': 800},\n            {'lat': 104.065735, 'lng': 30.659462, '人数': 700},\n            {'lat': 108.948024, 'lng': 34.263161, '人数': 300},\n            {'lat': 103.823557, 'lng': 36.058039, '人数': 500}\n          ]\n        },\n      }\n    },\n    methods:\n      {\n        // 表格数据：\n        // 此处应该为全局数据。\n        getData: function () {\n          new Promise((resolve, reject) => {\n            let tabledata = getScl90historyListWithUserData().then((res) => {\n              return res.data\n            });\n            resolve(tabledata); // 异步改为同步，此时数据获取完毕。\n          }).then(res => {\n            this.scl90history = res;\n            this.listLoading = false;\n            // 雷达图变量\n            let somatization_avg = 0;\n            let obsessive_avg = 0;\n            let interpersonal_avg = 0;\n            let depression_avg = 0;\n            let anxiety_avg = 0;\n            let hostility_avg = 0;\n            let phobic_avg = 0;\n            let paranoid_avg = 0;\n            let psychoticism_avg = 0;\n\n            // 饼图变量\n            let male = 0;\n            let female = 0;\n            let marriaged = 0;\n            let unmamarriaged = 0;\n            // 环图变量\n            let salary_num_1 = 0, salary_num_2 = 0, salary_num_3 = 0, salary_num_4 = 0, salary_num_5 = 0,\n              salary_num_6 = 0, salary_num_7 = 0;\n            for (let data of res) {\n              // 雷达图\n              somatization_avg += parseInt(data.somatization);\n              obsessive_avg += parseInt(data.obsessive);\n              interpersonal_avg += parseInt(data.interpersonal);\n              depression_avg += parseInt(data.depression);\n              anxiety_avg += parseInt(data.anxiety);\n              hostility_avg +=parseInt(data.hostility);\n              phobic_avg += parseInt(data.phobic);\n              paranoid_avg += parseInt(data.paranoid);\n              psychoticism_avg += parseInt(data.psychoticism);\n\n              if (parseInt(data.sumscore) >= 160) {\n                // 饼图\n                parseInt(data.user.sex) === 1 ? male += 1 : female += 1;\n                parseInt(data.user.marriage) === 1 ? marriaged += 1 : unmamarriaged += 1;\n                // 环图\n                switch (parseInt(data.user.salary)) {\n                  case 1:\n                    salary_num_1 += 1;\n                    break;\n                  case 2:\n                    salary_num_2 += 1;\n                    break;\n                  case 3:\n                    salary_num_3 += 1;\n                    break;\n                  case 4:\n                    salary_num_4 += 1;\n                    break;\n                  case 5:\n                    salary_num_5 += 1;\n                    break;\n                  case 6:\n                    salary_num_6 += 1;\n                    break;\n                  case 7:\n                    salary_num_7 += 1;\n                    break;\n                }\n              }\n            }\n            somatization_avg = (somatization_avg / (12*res.length)).toFixed(2);\n            // console.log(somatization_avg);\n            obsessive_avg = (obsessive_avg / (10*res.length)).toFixed(2);\n            interpersonal_avg = (interpersonal_avg / (9*res.length)).toFixed(2);\n            depression_avg = (depression_avg / (13*res.length)).toFixed(2);\n            anxiety_avg = (anxiety_avg / (10*res.length)).toFixed(2);\n            hostility_avg = (hostility_avg / (6*res.length)).toFixed(2);\n            phobic_avg = (phobic_avg / (7*res.length)).toFixed(2);\n            paranoid_avg = (paranoid_avg / (6*res.length)).toFixed(2);\n            psychoticism_avg = (psychoticism_avg /(10*res.length)).toFixed(2);\n            let obj = [{\n              '类别': '测试用户平均值',\n              'F1': somatization_avg,\n              'F2': obsessive_avg,\n              'F3': interpersonal_avg,\n              'F4': depression_avg,\n              'F5': anxiety_avg,\n              'F6': hostility_avg,\n              'F7': phobic_avg,\n              'F8': paranoid_avg,\n              'F9': psychoticism_avg,\n            },{\n              '类别': '常模',\n              'F1': 1.37,\n              'F2': 1.62,\n              'F3': 1.65,\n              'F4': 1.50,\n              'F5': 1.39,\n              'F6': 1.48,\n              'F7': 1.23,\n              'F8': 1.43,\n              'F9': 1.29\n            },\n              {'类别': '正常值', 'F1': 1, 'F2': 1, 'F3': 1, 'F4': 1, 'F5': 1, 'F6': 1, 'F7': 1, 'F8': 1, 'F9': 1,},];\n            // console.log(obj[0]);\n            for(let i of obj){\n              this.radarchartData.rows.push(i);\n            }\n\n\n            // 饼图\n            let pieArray = [\n              {'人群': '男', '负面情绪倾向人数': male},\n              {'人群': '女', '负面情绪倾向人数': female},\n              {'人群': '已婚', '负面情绪倾向人数': marriaged},\n              {'人群': '未婚', '负面情绪倾向人数': unmamarriaged},\n            ];\n            for (let i of pieArray) {\n              this.pieChartData.rows.push(i);\n            }\n\n            // 环图\n            let ringArray = [\n              {'收入情况': '1000元以下', '人数': salary_num_1},\n              {'收入情况': '1000-1999元', '人数': salary_num_2},\n              {'收入情况': '2000-3999元', '人数': salary_num_3},\n              {'收入情况': '4000-5999元', '人数': salary_num_4},\n              {'收入情况': '6000-9999元', '人数': salary_num_5},\n              {'收入情况': '10000-19999元', '人数': salary_num_6},\n              {'收入情况': '200000元以上', '人数': salary_num_7}\n            ];\n            for (let i of ringArray) {\n              this.ringChartData.rows.push(i);\n            }\n\n\n            // relevance\n            this.sex_relevance='0.732(60%-75%概率相关)';\n            this.marriage_relevance='0.703(60%-75%概率相关)';\n            this.age_relevance='0.547(50%-60%概率相关)';\n            this.salary_relevance='0.421(低于50%概率相关)';\n\n\n\n          });\n        },\n        // 带状态表格的行列标注：\n        // :row-class-name渲染之后会变为class属性，接收的参数为字符串。\n        // 因此可以根据条件进行拼接字符串，搭配子元素选择器可以实现单个元素的着色。\n        tableRowName({row, rowIndex}) {\n          let str = '';\n          if (parseInt(row.sumscore) > 160) {\n            str += 'warning-sum-row ';\n          }\n          if ((parseInt(row.somatization) / 10).toFixed(2) > 1.37) {\n            str += 'warning-somatization-row '\n          }\n          if ((parseInt(row.obsessive) / 10).toFixed(2) > 1.62) {\n            str += 'warning-obsessive-row '\n          }\n          if ((parseInt(row.interpersonal) / 9).toFixed(2) > 1.65) {\n            str += 'warning-interpersonal-row '\n          }\n          if ((parseInt(row.depression) / 13).toFixed(2) > 1.50) {\n            str += 'warning-depression-row '\n          }\n          if ((parseInt(row.anxiety) / 10).toFixed(2) > 1.39) {\n            str += 'warning-anxiety-row '\n          }\n          if ((parseInt(row.hostility) / 6).toFixed(2) > 1.48) {\n            str += 'warning-hostility-row '\n          }\n          if ((parseInt(row.phobic) / 7).toFixed(2) > 1.23) {\n            str += 'warning-phobic-row '\n          }\n          if ((parseInt(row.paranoid) / 6).toFixed(2) > 1.43) {\n            str += 'warning-paranoid-row '\n          }\n          if ((parseInt(row.psychoticism) / 10).toFixed(2) > 1.29) {\n            str += 'warning-psychoticism-row '\n          }\n          return str;\n        }\n        ,\n        // 表格平均值计算方法\n        calculateAverage(param) {\n          const {columns, data} = param;\n          const sums = [];\n          columns.forEach((column, index) => {\n            if (index === 0) {\n              sums[index] = '平均值';\n              return;\n            }\n            const values = data.map(item => Number(item[column.property]));\n            if (!values.every(value => isNaN(value))) {\n              sums[index] = values.reduce((prev, curr) => {\n                const value = Number(curr);\n                if (!isNaN(value)) {\n                  return prev + curr;\n                } else {\n                  return prev;\n                }\n              }, 0);\n              sums[index] = (sums[index] / data.length).toFixed(3);\n            } else {\n              sums[index] = '--';\n            }\n          });\n          return sums;\n        }\n        ,\n        // 表格按钮事件\n        handleExamine: function (index, row) {\n          this.ExamineDialogVisible = true;\n          this.username = row.user.username;\n          this.userId = row.user.id;\n          let arr = [];\n          arr.push(row.user);\n          this.userInfo = arr;\n          // console.log(row);\n          let data = {userid: parseInt(row.user.id)};\n\n          getUserScl90history(data).then((res) => {\n            this.userscl90history = res.data;\n          })\n        }\n        ,\n        // 表格数据格式化\n        dateformatter: function (row, column) {\n          return dateFormatterUtil(row, column);\n        }\n        ,\n        formatSex: function (row, colmun) {\n          return formatSexUtil(row, colmun);\n        }\n        ,\n        formatSalary: function (row, colmun) {\n          return formatSalaryUtil(row, colmun);\n        }\n        ,\n        formatMarriage: function (row, colmun) {\n          return formatMarriageUtil(row, colmun);\n        }\n        ,\n        formatWork: function (row, colmun) {\n          return formatWorkUtil(row, colmun);\n        }\n        ,\n\n      }\n    ,\n    mounted() {\n      this.getData();\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n<style>\n  .scl90history .el-table .warning-sum-row td:nth-child(4),\n  .scl90history .el-table .warning-somatization-row td:nth-child(7),\n  .scl90history .el-table .warning-obsessive-row td:nth-child(8),\n  .scl90history .el-table .warning-interpersonal-row td:nth-child(9),\n  .scl90history .el-table .warning-depression-row td:nth-child(10),\n  .scl90history .el-table .warning-anxiety-row td:nth-child(11),\n  .scl90history .el-table .warning-hostility-row td:nth-child(12),\n  .scl90history .el-table .warning-phobic-row td:nth-child(13),\n  .scl90history .el-table .warning-paranoid-row td:nth-child(14),\n  .scl90history .el-table .warning-psychoticism-row td:nth-child(15) {\n    color: #e64242;\n  }\n\n  .el-card {\n    margin-bottom: 10px;\n  }\n\n  .scl90history .el-card__body{\n    min-height: 480px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/data-analyze/scl90history.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"scl90history\"},[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_c('i',{staticClass:\"el-icon-time\"}),_vm._v(\" 历史记录\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"SCL90历史记录\")])],1)],1),_vm._v(\" \"),_c('section',{staticClass:\"sextion-1\"},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-card',{staticClass:\"box-card\",staticStyle:{\"overflow\":\"auto\"}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],attrs:{\"data\":_vm.scl90history,\"height\":\"460\",\"width\":\"95%\",\"summary-method\":_vm.calculateAverage,\"show-summary\":\"\",\"highlight-current-row\":\"\",\"border\":\"\",\"row-class-name\":_vm.tableRowName}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"序号\",\"width\":\"80\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"user.id\",\"label\":\"测试者ID\",\"width\":\"80\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"time\",\"label\":\"测试时间\",\"width\":\"160\",\"formatter\":_vm.dateformatter,\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sumscore\",\"label\":\"总评分\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"posSymptomCount\",\"label\":\"阳性回答数\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"posSymptomAvgscore\",\"label\":\"阳性回答均分\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"somatization\",\"label\":\"躯体化F1\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"obsessive\",\"label\":\"强迫症状F2\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"interpersonal\",\"label\":\"人际关系敏感F3\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"depression\",\"label\":\"抑郁F4\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"anxiety\",\"label\":\"焦虑F5\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"hostility\",\"label\":\"敌对F6\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"phobic\",\"label\":\"恐怖F7\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"paranoid\",\"label\":\"偏执F8\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"psychoticism\",\"label\":\"精神病性F9\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"70\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleExamine(scope.$index, scope.row)}}},[_vm._v(\"历史记录\")])]}}])})],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":11}},[_c('el-card',{staticClass:\"box-card\"},[_c('ve-radar',{attrs:{\"data\":_vm.radarchartData,\"settings\":_vm.radarChartSettings,\"height\":\"400px\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"9种症状评分雷达图\")])],1)],1)],1)],1),_vm._v(\" \"),_c('section',{staticClass:\"section-2\"},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-card',{staticClass:\"box-card\"},[_c('ve-pie',{attrs:{\"data\":_vm.pieChartData,\"settings\":_vm.pieChartSettings}}),_vm._v(\" \"),_c('span',[_vm._v(\"有明显负面情绪倾向人群的性别、婚姻情况分布\")]),_vm._v(\" \"),_c('p',[_vm._v(\"性别关联度:\"+_vm._s(_vm.sex_relevance))]),_vm._v(\" \"),_c('p',[_vm._v(\"是否已婚关联度:\"+_vm._s(_vm.marriage_relevance))])],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":11}},[_c('el-card',{staticClass:\"box-card\"},[_c('ve-histogram',{attrs:{\"data\":_vm.histogramData}}),_vm._v(\" \"),_c('span',[_vm._v(\"有负面情绪倾向人群的年龄统计\")]),_vm._v(\" \"),_c('p',[_vm._v(\"年龄关联度:\"+_vm._s(_vm.age_relevance))])],1)],1)],1)],1),_vm._v(\" \"),_c('section',{staticClass:\"section-3\"},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-card',{staticClass:\"box-card\"},[_c('ve-ring',{attrs:{\"data\":_vm.ringChartData}}),_vm._v(\" \"),_c('span',[_vm._v(\"有明显负面情绪倾向人群的收入分布\")]),_vm._v(\" \"),_c('p',[_vm._v(\"收入关联度:\"+_vm._s(_vm.salary_relevance))])],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":11}},[_c('el-card',{staticClass:\"box-card\"},[_c('ve-heatmap',{attrs:{\"data\":_vm.heatMapChartData,\"settings\":_vm.heatMapChartSettings}}),_vm._v(\" \"),_c('span',[_vm._v(\"有明显负面情绪倾向人群的地区分布\")])],1)],1)],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"历史记录\",\"visible\":_vm.ExamineDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.ExamineDialogVisible=$event}}},[_c('p',{staticStyle:{\"margin\":\"20px 0\"}},[_vm._v(\"用户名: \"+_vm._s(_vm.username)+\" (ID:\"+_vm._s(_vm.userId)+\") 的历史记录\")]),_vm._v(\" \"),_c('div',{staticClass:\"userInfoTable\",staticStyle:{\"margin-bottom\":\"20px\"}},[_c('el-table',{attrs:{\"data\":_vm.userInfo,\"border\":\"\",\"width\":\"100%\"}},[_c('el-table-column',{attrs:{\"prop\":\"age\",\"label\":\"年龄\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sex\",\"label\":\"性别\",\"formatter\":_vm.formatSex,\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"location\",\"label\":\"地区\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"salary\",\"label\":\"薪资\",\"formatter\":_vm.formatSalary,\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"work\",\"label\":\"从事行业\",\"formatter\":_vm.formatWork}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"marriage\",\"label\":\"是否已婚\",\"formatter\":_vm.formatMarriage,\"width\":\"80\"}})],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],attrs:{\"data\":_vm.userscl90history,\"max-height\":\"300\",\"border\":\"\",\"width\":\"100%\",\"row-class-name\":_vm.tableRowName}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"序号\",\"width\":\"80\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userid\",\"label\":\"测试者ID\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"time\",\"label\":\"测试时间\",\"formatter\":_vm.dateformatter,\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sumscore\",\"label\":\"总评分\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"posSymptomCount\",\"label\":\"阳性回答数\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"posSymptomAvgscore\",\"label\":\"阳性回答均分\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"somatization\",\"label\":\"躯体化\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"obsessive\",\"label\":\"强迫症状\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"interpersonal\",\"label\":\"人际关系敏感\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"depression\",\"label\":\"抑郁\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"anxiety\",\"label\":\"焦虑\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"hostility\",\"label\":\"敌对\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"phobic\",\"label\":\"恐怖\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"paranoid\",\"label\":\"偏执\",\"width\":\"90\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"psychoticism\",\"label\":\"精神病性\",\"width\":\"90\",\"sortable\":\"\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.ExamineDialogVisible = false}}},[_vm._v(\"关闭\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-320f56c2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/data-analyze/scl90history.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-320f56c2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./scl90history.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-320f56c2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./scl90history.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./scl90history.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./scl90history.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-320f56c2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./scl90history.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-320f56c2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/data-analyze/scl90history.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
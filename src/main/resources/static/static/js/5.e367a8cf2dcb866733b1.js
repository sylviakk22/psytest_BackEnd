webpackJsonp([5],{AHEp:function(a,t){},qZQ4:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("BO1k"),s=e.n(r),n=e("//Fk"),l=e.n(n),i=e("P9l9"),o=e("1fBy"),c=(e("NdhP"),{name:"dass21history",data:function(){return this.pieChartSettings={level:[["男","女"],["已婚","未婚"]]},this.heatMapChartSettings={position:"china",type:"map",geo:{label:{emphasis:{show:!1}},itemStyle:{normal:{areaColor:"#323c48",borderColor:"#111"},emphasis:{areaColor:"#2a333d"}}}},{sex_relevance:"",marriage_relevance:"",age_relevance:"",salary_relevance:"",username:"",userId:"",ExamineDialogVisible:!1,userdass21history:[],userInfo:[],listLoading:!0,dass21history:[],ringChartData:{columns:["收入情况","人数"],rows:[]},histogramData:{columns:["年龄","抑郁","焦虑","压力"],rows:[]},radarchartData:{columns:["类别","焦虑","抑郁","压力"],rows:[{"类别":"常模","焦虑":12,"抑郁":14,"压力":13},{"类别":"正常值","焦虑":7,"抑郁":9,"压力":14}]},pieChartData:{columns:["人群","负面情绪倾向人数"],rows:[]},heatMapChartData:{columns:["lat","lng","人数"],rows:[{lat:115.892151,lng:28.676493,"人数":1e3},{lat:117.000923,lng:36.675807,"人数":400},{lat:113.665412,lng:34.757975,"人数":800},{lat:114.298572,lng:30.584355,"人数":200},{lat:112.982279,lng:28.19409,"人数":100},{lat:113.280637,lng:23.125178,"人数":300},{lat:110.33119,lng:20.031971,"人数":800},{lat:104.065735,lng:30.659462,"人数":700},{lat:108.948024,lng:34.263161,"人数":300},{lat:103.823557,lng:36.058039,"人数":500}]}}},methods:{getData:function(){var a=this;new l.a(function(a,t){a(Object(i.i)().then(function(a){return a.data}))}).then(function(t){a.dass21history=t,a.listLoading=!1;var e=0,r=0,n=0,l=0,i=0,o=0,c=0,u=0,p=0,d=0,v=0,m=0,h=0,b=0,g=0,f=0,_=0,w=0,y=0,x=0,I=0,C=0,D=0,S=0,k=0,E=0,N=0,O=0,j=0,M=!0,F=!1,L=void 0;try{for(var V,A=s()(t);!(M=(V=A.next()).done);M=!0){var R=V.value;if(e+=parseInt(R.depression),r+=parseInt(R.anxiety),n+=parseInt(R.stress),parseInt(R.depression)>13||parseInt(R.anxiety)>9||parseInt(R.stress)>18){switch(1===parseInt(R.user.sex)?l+=1:i+=1,1===parseInt(R.user.marriage)?o+=1:c+=1,parseInt(R.user.salary)){case 1:u+=1;break;case 2:p+=1;break;case 3:d+=1;break;case 4:v+=1;break;case 5:m+=1;break;case 6:h+=1;break;case 7:b+=1}parseInt(R.user.age)>=20&&parseInt(R.user.age)<30?(parseInt(R.depression)>13?g+=1:g+=0,parseInt(R.anxiety)>9?f+=1:f+=0,parseInt(R.stress)>18?_+=1:_+=0):parseInt(R.user.age)>=30&&parseInt(R.user.age)<40?(parseInt(R.depression)>13?w+=1:w+=0,parseInt(R.anxiety)>9?y+=1:y+=0,parseInt(R.stress)>18?x+=1:x+=0):parseInt(R.user.age)>=40&&parseInt(R.user.age)<50?(parseInt(R.depression)>13?I+=1:I+=0,parseInt(R.anxiety)>9?C+=1:C+=0,parseInt(R.stress)>18?D+=1:D+=0):parseInt(R.user.age)>=50&&parseInt(R.user.age)<70?(parseInt(R.depression)>13?S+=1:S+=0,parseInt(R.anxiety)>9?E+=1:E+=0,parseInt(R.stress)>18?k+=1:k+=0):parseInt(R.user.age)>=70&&(parseInt(R.depression)>13?N+=1:N+=0,parseInt(R.anxiety)>9?O+=1:O+=0,parseInt(R.stress)>18?j+=1:j+=0)}}}catch(a){F=!0,L=a}finally{try{!M&&A.return&&A.return()}finally{if(F)throw L}}e=(e/t.length).toFixed(2);var q={"类别":"测试用户平均值","焦虑":r=(r/t.length).toFixed(2),"抑郁":e,"压力":n=(n/t.length).toFixed(2)};a.radarchartData.rows.push(q);var P=[{"人群":"男","负面情绪倾向人数":l},{"人群":"女","负面情绪倾向人数":i},{"人群":"已婚","负面情绪倾向人数":o},{"人群":"未婚","负面情绪倾向人数":c}],B=!0,H=!1,W=void 0;try{for(var $,z=s()(P);!(B=($=z.next()).done);B=!0){var J=$.value;a.pieChartData.rows.push(J)}}catch(a){H=!0,W=a}finally{try{!B&&z.return&&z.return()}finally{if(H)throw W}}var Q=[{"收入情况":"1000元以下","人数":u},{"收入情况":"1000-1999元","人数":p},{"收入情况":"2000-3999元","人数":d},{"收入情况":"4000-5999元","人数":v},{"收入情况":"6000-9999元","人数":m},{"收入情况":"10000-19999元","人数":h},{"收入情况":"200000元以上","人数":b}],T=!0,U=!1,Z=void 0;try{for(var G,K=s()(Q);!(T=(G=K.next()).done);T=!0){var X=G.value;a.ringChartData.rows.push(X)}}catch(a){U=!0,Z=a}finally{try{!T&&K.return&&K.return()}finally{if(U)throw Z}}var Y=[{"年龄":"20-30","抑郁":g,"焦虑":f,"压力":_},{"年龄":"30-40","抑郁":w,"焦虑":y,"压力":x},{"年龄":"40-50","抑郁":I,"焦虑":C,"压力":D},{"年龄":"50-70","抑郁":S,"焦虑":E,"压力":k},{"年龄":"70+","抑郁":N,"焦虑":O,"压力":j}],aa=!0,ta=!1,ea=void 0;try{for(var ra,sa=s()(Y);!(aa=(ra=sa.next()).done);aa=!0){var na=ra.value;a.histogramData.rows.push(na)}}catch(a){ta=!0,ea=a}finally{try{!aa&&sa.return&&sa.return()}finally{if(ta)throw ea}}a.sex_relevance="0.734(60%-75%概率相关)",a.marriage_relevance="0.762(60%-75%概率相关)",a.age_relevance="0.514(50%-60%概率相关)",a.salary_relevance="0.452(低于50%概率相关)"})},tableRowName:function(a){var t=a.row,e=(a.rowIndex,"");return parseInt(t.stress)>=26&&(e+="warning-stress-row"),parseInt(t.anxiety)>=15&&(e+=" warning-anxiety-row"),parseInt(t.depression)>=21&&(e+=" warning-depression-row"),e},calculateAverage:function(a){var t=a.columns,e=a.data,r=[];return t.forEach(function(a,t){if(0!==t){var s=e.map(function(t){return Number(t[a.property])});s.every(function(a){return isNaN(a)})?r[t]="--":(r[t]=s.reduce(function(a,t){var e=Number(t);return isNaN(e)?a:a+t},0),r[t]=(r[t]/e.length).toFixed(3))}else r[t]="平均值"}),r},handleExamine:function(a,t){var e=this;this.ExamineDialogVisible=!0,this.username=t.user.username,this.userId=t.user.id;var r=[];r.push(t.user),this.userInfo=r;var s={userid:parseInt(t.user.id)};Object(i.m)(s).then(function(a){e.userdass21history=a.data})},dateformatter:function(a,t){return Object(o.a)(a,t)},formatSex:function(a,t){return Object(o.d)(a,t)},formatSalary:function(a,t){return Object(o.c)(a,t)},formatMarriage:function(a,t){return Object(o.b)(a,t)},formatWork:function(a,t){return Object(o.e)(a,t)}},mounted:function(){this.getData()}}),u={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("section",{staticClass:"dass21history"},[e("div",{staticClass:"crumbs"},[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",[e("i",{staticClass:"el-icon-time"}),a._v(" 历史记录")]),a._v(" "),e("el-breadcrumb-item",[a._v("DASS21历史记录")])],1)],1),a._v(" "),e("section",{staticClass:"sextion-1"},[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:11}},[e("el-card",{staticClass:"box-card",staticStyle:{overflow:"auto"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.listLoading,expression:"listLoading"}],attrs:{data:a.dass21history,height:"460",width:"95%","summary-method":a.calculateAverage,"show-summary":"","highlight-current-row":"",border:"","row-class-name":a.tableRowName}},[e("el-table-column",{attrs:{prop:"id",label:"序号",width:"80",sortable:""}}),a._v(" "),e("el-table-column",{attrs:{prop:"user.id",label:"测试者ID",width:"80"}}),a._v(" "),e("el-table-column",{attrs:{prop:"time",label:"测试时间",width:"160",formatter:a.dateformatter,sortable:""}}),a._v(" "),e("el-table-column",{attrs:{prop:"depression",label:"抑郁",width:"90",sortable:""}}),a._v(" "),e("el-table-column",{attrs:{prop:"anxiety",label:"焦虑",width:"90",sortable:""}}),a._v(" "),e("el-table-column",{attrs:{prop:"stress",label:"压力",width:"90",sortable:""}}),a._v(" "),e("el-table-column",{attrs:{label:"操作",width:"70",fixed:"right"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){return a.handleExamine(t.$index,t.row)}}},[a._v("历史记录")])]}}])})],1)],1)],1),a._v(" "),e("el-col",{attrs:{span:11}},[e("el-card",{staticClass:"box-card"},[e("ve-radar",{attrs:{data:a.radarchartData,height:"400px"}}),a._v(" "),e("span",[a._v("三项指标的雷达图")])],1)],1)],1)],1),a._v(" "),e("section",{staticClass:"section-2"},[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:11}},[e("el-card",{staticClass:"box-card"},[e("ve-pie",{attrs:{data:a.pieChartData,settings:a.pieChartSettings}}),a._v(" "),e("span",[a._v("有明显负面情绪倾向人群的性别、婚姻情况分布")]),a._v(" "),e("p",[a._v("性别关联度:"+a._s(a.sex_relevance))]),a._v(" "),e("p",[a._v("是否已婚关联度:"+a._s(a.marriage_relevance))])],1)],1),a._v(" "),e("el-col",{attrs:{span:11}},[e("el-card",{staticClass:"box-card"},[e("ve-histogram",{attrs:{data:a.histogramData}}),a._v(" "),e("span",[a._v("有负面情绪倾向人群的年龄统计")]),a._v(" "),e("p",[a._v("年龄关联度:"+a._s(a.age_relevance))])],1)],1)],1)],1),a._v(" "),e("section",{staticClass:"section-3"},[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:11}},[e("el-card",{staticClass:"box-card"},[e("ve-ring",{attrs:{data:a.ringChartData}}),a._v(" "),e("span",[a._v("有明显负面情绪倾向人群的收入分布")]),a._v(" "),e("p",[a._v("收入关联度:"+a._s(a.salary_relevance))])],1)],1),a._v(" "),e("el-col",{attrs:{span:11}},[e("el-card",{staticClass:"box-card"},[e("ve-heatmap",{attrs:{data:a.heatMapChartData,settings:a.heatMapChartSettings}}),a._v(" "),e("span",[a._v("有明显负面情绪倾向人群的地区分布")])],1)],1)],1)],1),a._v(" "),e("el-dialog",{attrs:{title:"历史记录",visible:a.ExamineDialogVisible,width:"50%"},on:{"update:visible":function(t){a.ExamineDialogVisible=t}}},[e("p",{staticStyle:{margin:"20px 0"}},[a._v("用户名: "+a._s(a.username)+" (ID:"+a._s(a.userId)+") 的历史记录")]),a._v(" "),e("div",{staticClass:"userInfoTable",staticStyle:{"margin-bottom":"20px"}},[e("el-table",{attrs:{data:a.userInfo,border:"",width:"100%"}},[e("el-table-column",{attrs:{prop:"age",label:"年龄",width:"80"}}),a._v(" "),e("el-table-column",{attrs:{prop:"sex",label:"性别",formatter:a.formatSex,width:"80"}}),a._v(" "),e("el-table-column",{attrs:{prop:"location",label:"地区"}}),a._v(" "),e("el-table-column",{attrs:{prop:"salary",label:"薪资",formatter:a.formatSalary,width:"120"}}),a._v(" "),e("el-table-column",{attrs:{prop:"work",label:"从事行业",formatter:a.formatWork}}),a._v(" "),e("el-table-column",{attrs:{prop:"marriage",label:"是否已婚",formatter:a.formatMarriage,width:"80"}})],1)],1),a._v(" "),e("div",{staticStyle:{"text-align":"center"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.listLoading,expression:"listLoading"}],attrs:{data:a.userdass21history,"max-height":"300",border:"",width:"100%","row-class-name":a.tableRowName}},[e("el-table-column",{attrs:{prop:"id",label:"序号",width:"80",sortable:""}}),a._v(" "),e("el-table-column",{attrs:{prop:"userid",label:"测试者ID",width:"80"}}),a._v(" "),e("el-table-column",{attrs:{prop:"time",label:"测试时间",formatter:a.dateformatter,sortable:""}}),a._v(" "),e("el-table-column",{attrs:{prop:"depression",label:"抑郁",width:"90"}}),a._v(" "),e("el-table-column",{attrs:{prop:"anxiety",label:"焦虑",width:"90"}}),a._v(" "),e("el-table-column",{attrs:{prop:"stress",label:"压力",width:"90"}})],1)],1),a._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:function(t){a.ExamineDialogVisible=!1}}},[a._v("关闭")])],1)])],1)},staticRenderFns:[]};var p=e("VU/8")(c,u,!1,function(a){e("AHEp"),e("qp7E")},"data-v-76e313f2",null);t.default=p.exports},qp7E:function(a,t){}});
//# sourceMappingURL=5.e367a8cf2dcb866733b1.js.map